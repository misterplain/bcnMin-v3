{"ast":null,"code":"import axios from \"axios\";\nimport { setAlert } from \"./alert\";\nimport { GET_FAVORITES, GET_FAVORITES_FAIL, ADD_FAVORITE, ADD_FAVORITE_FAIL, REMOVE_FAVORITE, REMOVE_FAVORITE_FAIL } from \"../actions/types\"; //get favorites\n\nexport const getFavorites = () => async dispatch => {\n  try {\n    const res = await axios.get(\"http://localhost:8000/v1/api/favorites\");\n    dispatch({\n      type: GET_FAVORITES,\n      payload: res.data\n    });\n  } catch (err) {\n    dispatch({\n      type: GET_FAVORITES_FAIL,\n      payload: err.response.data.msg\n    });\n  }\n}; //add post to user favorites\n\nexport const addFavorite = id => async dispatch => {\n  try {\n    const res = await axios.post(`http://localhost:8000/v1/api/favorites/${id}`, {\n      body: id\n    });\n    dispatch({\n      type: ADD_FAVORITE,\n      payload: res.data\n    });\n    dispatch(setAlert(\"Favorite Added\", \"success\"));\n  } catch (err) {\n    dispatch({\n      type: ADD_FAVORITE_FAIL,\n      payload: err.response.data.msg\n    });\n    dispatch(setAlert(err.response.data.msg, \"danger\"));\n  }\n}; //remove favorites\n\nexport const removeFavorite = id => async dispatch => {\n  try {\n    const res = await axios.delete(`http://localhost:8000/v1/api/favorites/${id}`);\n    dispatch({\n      type: REMOVE_FAVORITE,\n      payload: res.data\n    });\n    dispatch(setAlert(\"Favorite removed\", \"success\"));\n  } catch (err) {\n    dispatch({\n      type: REMOVE_FAVORITE_FAIL,\n      payload: err.response.data.msg\n    });\n    dispatch(setAlert(\"Favorite not removed\", \"danger\"));\n  }\n};","map":{"version":3,"sources":["/Users/patrick/Desktop/Learn/Projects/3-bcnMin-v3/client/src/actions/favorites.js"],"names":["axios","setAlert","GET_FAVORITES","GET_FAVORITES_FAIL","ADD_FAVORITE","ADD_FAVORITE_FAIL","REMOVE_FAVORITE","REMOVE_FAVORITE_FAIL","getFavorites","dispatch","res","get","type","payload","data","err","response","msg","addFavorite","id","post","body","removeFavorite","delete"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,SAAzB;AACA,SACEC,aADF,EAEEC,kBAFF,EAGEC,YAHF,EAIEC,iBAJF,EAKEC,eALF,EAMEC,oBANF,QAOO,kBAPP,C,CASA;;AACA,OAAO,MAAMC,YAAY,GAAG,MAAM,MAAOC,QAAP,IAAoB;AACpD,MAAI;AACF,UAAMC,GAAG,GAAG,MAAMV,KAAK,CAACW,GAAN,CAAU,wCAAV,CAAlB;AACAF,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAEV,aADC;AAEPW,MAAAA,OAAO,EAAEH,GAAG,CAACI;AAFN,KAAD,CAAR;AAID,GAND,CAME,OAAOC,GAAP,EAAY;AACZN,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAET,kBADC;AAEPU,MAAAA,OAAO,EAAEE,GAAG,CAACC,QAAJ,CAAaF,IAAb,CAAkBG;AAFpB,KAAD,CAAR;AAID;AACF,CAbM,C,CAcP;;AACA,OAAO,MAAMC,WAAW,GAAIC,EAAD,IAAQ,MAAOV,QAAP,IAAoB;AACrD,MAAI;AAEF,UAAMC,GAAG,GAAG,MAAMV,KAAK,CAACoB,IAAN,CACf,0CAAyCD,EAAG,EAD7B,EAEhB;AAAGE,MAAAA,IAAI,EAAEF;AAAT,KAFgB,CAAlB;AAIAV,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAER,YADC;AAEPS,MAAAA,OAAO,EAAEH,GAAG,CAACI;AAFN,KAAD,CAAR;AAIAL,IAAAA,QAAQ,CAACR,QAAQ,CAAC,gBAAD,EAAmB,SAAnB,CAAT,CAAR;AACD,GAXD,CAWE,OAAOc,GAAP,EAAY;AACZN,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAEP,iBADC;AAEPQ,MAAAA,OAAO,EAAEE,GAAG,CAACC,QAAJ,CAAaF,IAAb,CAAkBG;AAFpB,KAAD,CAAR;AAIAR,IAAAA,QAAQ,CAACR,QAAQ,CAACc,GAAG,CAACC,QAAJ,CAAaF,IAAb,CAAkBG,GAAnB,EAAwB,QAAxB,CAAT,CAAR;AACD;AACF,CAnBM,C,CAqBP;;AACA,OAAO,MAAMK,cAAc,GAAIH,EAAD,IAAQ,MAAOV,QAAP,IAAoB;AACxD,MAAI;AACF,UAAMC,GAAG,GAAG,MAAMV,KAAK,CAACuB,MAAN,CACf,0CAAyCJ,EAAG,EAD7B,CAAlB;AAGAV,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAEN,eADC;AAEPO,MAAAA,OAAO,EAAEH,GAAG,CAACI;AAFN,KAAD,CAAR;AAIAL,IAAAA,QAAQ,CAACR,QAAQ,CAAC,kBAAD,EAAqB,SAArB,CAAT,CAAR;AACD,GATD,CASE,OAAOc,GAAP,EAAY;AACZN,IAAAA,QAAQ,CAAC;AACPG,MAAAA,IAAI,EAAEL,oBADC;AAEPM,MAAAA,OAAO,EAAEE,GAAG,CAACC,QAAJ,CAAaF,IAAb,CAAkBG;AAFpB,KAAD,CAAR;AAIAR,IAAAA,QAAQ,CAACR,QAAQ,CAAC,sBAAD,EAAyB,QAAzB,CAAT,CAAR;AACD;AACF,CAjBM","sourcesContent":["import axios from \"axios\";\nimport { setAlert } from \"./alert\";\nimport {\n  GET_FAVORITES,\n  GET_FAVORITES_FAIL,\n  ADD_FAVORITE,\n  ADD_FAVORITE_FAIL,\n  REMOVE_FAVORITE,\n  REMOVE_FAVORITE_FAIL,\n} from \"../actions/types\";\n\n//get favorites\nexport const getFavorites = () => async (dispatch) => {\n  try {\n    const res = await axios.get(\"http://localhost:8000/v1/api/favorites\");\n    dispatch({\n      type: GET_FAVORITES,\n      payload: res.data,\n    });\n  } catch (err) {\n    dispatch({\n      type: GET_FAVORITES_FAIL,\n      payload: err.response.data.msg,\n    });\n  }\n};\n//add post to user favorites\nexport const addFavorite = (id) => async (dispatch) => {\n  try {\n   \n    const res = await axios.post(\n      `http://localhost:8000/v1/api/favorites/${id}`,\n      {  body: id }\n    );\n    dispatch({\n      type: ADD_FAVORITE,\n      payload: res.data,\n    });\n    dispatch(setAlert(\"Favorite Added\", \"success\"));\n  } catch (err) {\n    dispatch({\n      type: ADD_FAVORITE_FAIL,\n      payload: err.response.data.msg,\n    });\n    dispatch(setAlert(err.response.data.msg, \"danger\"));\n  }\n};\n\n//remove favorites\nexport const removeFavorite = (id) => async (dispatch) => {\n  try {\n    const res = await axios.delete(\n      `http://localhost:8000/v1/api/favorites/${id}`\n    );\n    dispatch({\n      type: REMOVE_FAVORITE,\n      payload: res.data,\n    });\n    dispatch(setAlert(\"Favorite removed\", \"success\"));\n  } catch (err) {\n    dispatch({\n      type: REMOVE_FAVORITE_FAIL,\n      payload: err.response.data.msg,\n    });\n    dispatch(setAlert(\"Favorite not removed\", \"danger\"));\n  }\n};\n"]},"metadata":{},"sourceType":"module"}